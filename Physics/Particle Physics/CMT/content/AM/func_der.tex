\section{Functional Derivative}
\subsection{Definition}
Consider a quantity $I$ defined as follows:
\begin{align}
  I := \int_A^B \odif{x} \, F(x)
\end{align}
Notice that $I$ is not really a function of $x$, but if you had to say, it is more a "function" of $F$ - may be $F(x) = e^x$, or $F(x) = a x^2 + bx + c$, or, etc.
So, to denote the dependence of $I$ on the function $F$, we write
\begin{align}
  I[f] := \int_A^B \odif{x} \, F(x)
\end{align}
This is called a \textbf{functional}.
Now, imagine that $F$ is a function of $f$, for example, $F[f] = f(x)^2$.
By chain rule, a small change in $F$, denoted as $\fdif{F}$, can be expressed as:
\begin{align}
  \fdif{F}[f] & = F[f + \fdif{f}] - F[f] \\
              & = \pdv{F}{f} \fdif{f}
\end{align}
so, similarly,
\begin{align}
  \fdif{I}[F] & = I[F + \fdif{F}] - I[F]                   \\
              & = \int_A^B \odif{x} \, \fdif{F}[f]         \\
              & = \int_A^B \odif{x} \, \pdv{F}{f} \fdif{f}
\end{align}
Then, the \textbf{functional derivative} of $I$ with respect to $f$, $\fdv{I}{f}$, is defined as follows:
\dfn{Functional Derivative}{
  If a function $X(x)$ exists, such that
  \begin{align}
    \fdif{I} & = \int_A^B \odif{x} \, X(x) \fdif{f}(x),
  \end{align}
  we say that $X(x)$ is the \textbf{functional derivative} of $I$ with respect to $f$, and denote it as
  \begin{align}
    \fdv{I}{f} := X(x) \iff \fdif{I} := \int_B^A \odif{x} \, \fdv{I}{f} \fdif{f}.
  \end{align}
}


\subsection{Two function case}
Consider a case where $I$ is the functional of $F$, which is also a functional of $f$ and $g$:
\begin{align}
  I[F[f, g]] & = \int_B^A \odif{x} \, F[f(x), g(x)]
\end{align}
Or more generally, if a function $D(x)$ satisfies the following
Now, let us add some small change of $f$, $\fdif{f}$:
\begin{align}
  I[F[f + \fdif{f}, g]] & = \int_B^A \odif{x} \, F[f(x) + \fdif{f}(x), g(x)]   \\
                        & = \int_B^A \odif{x} \, F[f, g] + \pdv{F}{f} \fdif{f}
\end{align}
and similarly, by adding $\fdif{g}$,
\begin{align}
  I[F[f, g + \fdif{g}]] & = \int_B^A \odif{x} \, F[f(x), g(x) + \fdif{g}(x)]   \\
                        & = \int_B^A \odif{x} \, F[f, g] + \pdv{F}{g} \fdif{g}
\end{align}
Combining these two, we have
\begin{align}
  I[F[f + \fdif{f}, g + \fdif{g}]]                         & = \int_B^A \odif{x} \, F[f(x) + \fdif{f}(x), g(x) + \fdif{g}(x)]           \\
                                                           & = \int_B^A \odif{x} \, F[f, g] + \pdv{F}{f} \fdif{f} + \pdv{F}{g} \fdif{g} \\
  \implies \quad I[F[f+\fdif{f}, g+\fdif{g}]] - I[F[f, g]] & = \int_B^A \odif{x} \, \pdv{F}{f} \fdif{f} + \pdv{F}{g} \fdif{g}
\end{align}
In this case, we just like our normal derivative, we should denote the LHS as:
\begin{align}
  \fdif{I} & := \int_B^A \odif{x} \, \pdv{F}{f} \fdif{f} + \pdv{F}{g} \fdif{g}
\end{align}
or alternatively,
\begin{align}
  \fdif{I} & := \int_B^A \odif{x} \, \fdv{I}{f} \fdif{f} + \fdv{I}{g} \fdif{g}
\end{align}

\subsection{Euler-Lagrange Equation}
For the two function case, especially consider that $g = \odv{f}{x}$, and let us see what happens.
Specifically, let us set that $\fdif{f}(A) = \fdif{f}(B) = 0$.
Then, we have:
\begin{align}
  \fdv{I}{g} \fdif{g} & = \fdv{I}{\odv{f}{x}} \fdif{\odv{f}{x}}
  \intertext{we can change the order of the derivative:}
                      & =\fdv{I}{\odv{f}{x}} \odv{\fdif{f}}{x}
  \intertext{from the differentiation of a product, we have}
                      & = \odv{}{x} \pab{\fdv{I}{\odv{f}{x}} \fdif{f}} - \odv{}{x} \fdv{I}{\odv{f}{x}} \fdif{f}
\end{align}
Now, subsituting this to the two function case, we get:
\begin{align}
  \fdif{I} & =
  \int_B^A \odif{x} \, \bab{\pab{\fdv{I}{f}
      - \odv{}{x} \fdv{I}{\odv{f}{x}}} \fdif{f}
    + \odv{}{x} \pab{\fdv{I}{\odv{f}{x}} \fdif{f}}}
\end{align}
the total derivative term is zero, since $\fdif{f}(A) = \fdif{f}(B) = 0$.
Thus, we have
\begin{align}
  \fdif{I} & = \int_B^A \odif{x} \, \pab{\fdv{I}{f}
    - \odv{}{x} \fdv{I}{\odv{f}{x}}} \fdif{f}
\end{align}
and since $I = \int_B^A \odif{x} \, F[f(x), g(x)]$, we can say that
\begin{align}
  \pdv{F}{f} & = \fdv{I}{f} , \quad \pdv{F}{g} = \fdv{I}{g}
\end{align}
Then
\begin{align}
  \fdif{I} & = \int_B^A \odif{x} \, \pab{
    \pdv{F}{f} - \odv{}{x} \pdv{F}{\odv{f}{x}}
  } \fdif{f} \label{eq:func_deriv_euler_lagrange}
\end{align}
And if we somehow want to find a minimum of $I$, we can set $\fdif{I} = 0$:
\begin{align}
  \implies \quad \pdv{F}{f} - \odv{}{x} \pdv{F}{\odv{f}{x}} & = 0
\end{align}
This is called the \textbf{Euler-Lagrange equation}.

\subsection{Important Property}
In general, consider that the functional $F$ is a function of $f_1, f_2, \ldots, f_n$:
\begin{align}
  F[f_1, f_2, \ldots, f_n] \implies \fdif{F} & = \sum_{j=1}^{n} \pdv{F}{f_j} \fdif{f_j} \\
\end{align}
\cite{eman-functionalDerivative}